{"version":3,"sources":["components/message.js","components/loading.js","App.js","index.js"],"names":["Message","props","isConnected","message","typeMessage","className","this","userLogin","myLogin","messageValue","React","Component","Loading","socket","io","App","sendMessage","bind","change","messageList","createRef","state","loading","inputValue","arrMessage","messages","map","item","index","key","ref","onSubmit","action","type","value","placeholder","onChange","name","decodeURIComponent","document","cookie","match","RegExp","replace","getCookie","emit","on","arrayMessage","renderMessageList","lastMessage","JSON","parse","e","setState","target","concat","current","scrollTo","scrollHeight","preventDefault","stringify","ReactDOM","render","getElementById"],"mappings":"4RAiBeA,E,YAdX,WAAYC,GAAO,IAAD,8BACd,4CAAMA,KACDC,YAAgD,aAAlC,EAAKD,MAAME,QAAQC,YAFxB,E,sEAKd,OAAO,wBAAIC,UAAYC,KAAKJ,YAAeI,KAAKL,MAAME,QAAQI,WAAaD,KAAKL,MAAMO,QAAU,aAAe,gBAAmB,aAC9H,2BACKF,KAAKJ,YAAc,8BAAOI,KAAKL,MAAME,QAAQI,UAA1B,IAAqC,8BAAe,KACvED,KAAKL,MAAME,QAAQM,mB,GATdC,IAAMC,WCMbC,E,iLAJP,OAAO,0C,GAFOF,IAAMC,WCEtBE,EAASC,MA4DAC,E,YAzDX,aAAe,IAAD,8BACV,+CACKC,YAAc,EAAKA,YAAYC,KAAjB,gBACnB,EAAKC,OAAS,EAAKA,OAAOD,KAAZ,gBACd,EAAKT,QAAU,GACf,EAAKW,YAAcT,IAAMU,YACzB,EAAKC,MAAQ,CACTC,SAAS,EACTC,WAAY,GACZC,WAAY,IATN,E,sEAaL,IACDC,EADA,OAIJ,OAFAA,EAAWnB,KAAKe,MAAMC,QAAU,kBAAC,EAAD,MAAchB,KAAKe,MAAMG,WAAWE,KAAI,SAACC,EAAMC,GAAP,OAAiB,kBAAC,EAAD,CAASC,IAAKD,EAAOzB,QAASwB,EAAOnB,QAAS,EAAKA,aAErI,6BACH,wBAAIsB,IAAKxB,KAAKa,aACTM,GAEL,0BAAMM,SAAUzB,KAAKU,YAAagB,OAAO,IACrC,2BAAOC,KAAK,OAAOC,MAAO5B,KAAKe,MAAME,WAAYY,YAAa,aAAcC,SAAU9B,KAAKY,SAC3F,8C,gCAIFmB,GACN,OAAOC,mBAAmBC,SAASC,OAAOC,MAAM,IAAIC,OAChD,WAAaL,EAAKM,QAAQ,+BAAgC,QAAU,aACrE,M,0CAEa,IAAD,OACfrC,KAAKE,QAAUF,KAAKsC,UAAU,SAC9B/B,EAAOgC,KAAK,YAAavC,KAAKE,SAC9BK,EAAOiC,GAAG,sBAAsB,SAACC,GAAkB,EAAKC,kBAAkBD,MAC1ElC,EAAOiC,GAAG,gBAAgB,SAAC3C,GAAD,OAAa,EAAK8C,YAAYC,KAAKC,MAAMhD,S,6BAEhEiD,GACH9C,KAAK+C,SAAS,CAAC9B,WAAY6B,EAAEE,OAAOpB,U,wCAEtBa,GACdzC,KAAK+C,SAAS,CAAC/B,SAAS,EAAOE,WAAY0B,KAAKC,MAAMJ,O,kCAE9C5C,GACRG,KAAK+C,SAAS,CAAC7B,WAAYlB,KAAKe,MAAMG,WAAW+B,OAAOpD,KACxDG,KAAKa,YAAYqC,QAAQC,SAAS,EAAGnD,KAAKa,YAAYqC,QAAQE,gB,kCAEtDN,GACRA,EAAEO,iBACF9C,EAAOgC,KAAK,eAAgBK,KAAKU,UAAU,CAACrD,UAAWD,KAAKE,QAASC,aAAcH,KAAKe,MAAME,WAAYnB,YAAa,aACvHE,KAAK+C,SAAS,CAAC9B,WAAY,S,GApDjBb,IAAMC,WCDxBkD,IAASC,OAAO,kBAAC,EAAD,MAASvB,SAASwB,eAAe,W","file":"static/js/main.d3db8f59.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass Message extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.isConnected = this.props.message.typeMessage != 'connected' ? true : false;\r\n    }\r\n    render() {\r\n        return <li className={(this.isConnected ? (this.props.message.userLogin == this.props.myLogin ? 'myMessage ' : 'notMyMessage ') : 'connected') }>\r\n            <p>\r\n                {this.isConnected ? <span>{this.props.message.userLogin}:<br/></span> : null}\r\n                {this.props.message.messageValue}\r\n            </p>\r\n            </li>\r\n    }\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\n\r\nclass Loading extends React.Component{\r\n    render() {\r\n        return <p>Loading</p>\r\n    }\r\n}\r\n\r\nexport default Loading;","import React from 'react';\nimport io from 'socket.io-client'\nimport Message from \"./components/message\";\nimport Loading from \"./components/loading\";\nconst socket = io();\n\nclass App extends React.Component{\n    constructor() {\n        super();\n        this.sendMessage = this.sendMessage.bind(this);\n        this.change = this.change.bind(this);\n        this.myLogin = '';\n        this.messageList = React.createRef();\n        this.state = {\n            loading: true,\n            inputValue: '',\n            arrMessage: []\n        }\n    }\n\n    render(){\n        let messages;\n        messages = this.state.loading ? <Loading /> : this.state.arrMessage.map((item, index) => <Message key={index} message={item}  myLogin={this.myLogin} /> );\n\n        return <div>\n            <ul ref={this.messageList}>\n                {messages}\n            </ul>\n            <form onSubmit={this.sendMessage} action=\"\">\n                <input type=\"text\" value={this.state.inputValue} placeholder={'Message...'} onChange={this.change}/>\n                <button>âž¤</button>\n            </form>\n        </div>\n    }\n    getCookie(name) {\n        return decodeURIComponent(document.cookie.match(new RegExp(\n            \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\n        ))[1]);\n    };\n    componentDidMount(){\n        this.myLogin = this.getCookie(\"login\");\n        socket.emit('open user', this.myLogin);\n        socket.on('firstMessageRender', (arrayMessage) => {this.renderMessageList(arrayMessage)});\n        socket.on('last message', (message) => this.lastMessage(JSON.parse(message)));\n    }\n    change(e){\n        this.setState({inputValue: e.target.value})\n    }\n    renderMessageList(arrayMessage){\n        this.setState({loading: false, arrMessage: JSON.parse(arrayMessage)})\n    }\n    lastMessage(message){\n        this.setState({arrMessage: this.state.arrMessage.concat(message)});\n        this.messageList.current.scrollTo(0, this.messageList.current.scrollHeight);\n    }\n    sendMessage(e){\n        e.preventDefault();\n        socket.emit('send message', JSON.stringify({userLogin: this.myLogin ,messageValue: this.state.inputValue, typeMessage: 'message'}));\n        this.setState({inputValue: ''});\n    }\n}\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}