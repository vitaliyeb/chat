(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,n){e.exports=n(70)},39:function(e,t,n){},67:function(e,t){},70:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),i=n(32),r=n.n(i),c=(n(39),n(3)),o=n(4),u=n(6),l=n(5),g=n(8),m=n(7),h=n(33),p=n.n(h),d=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).isConnected="connected"!=n.props.message.typeMessage,n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("li",{className:this.isConnected?this.props.message.userLogin==this.props.myLogin?"myMessage ":"notMyMessage ":"connected"},a.a.createElement("p",null,this.isConnected?a.a.createElement("span",null,this.props.message.userLogin,":",a.a.createElement("br",null)):null,this.props.message.messageValue))}}]),t}(a.a.Component),f=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("p",null,"Loading")}}]),t}(a.a.Component),y=p()(),b=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).sendMessage=e.sendMessage.bind(Object(g.a)(e)),e.change=e.change.bind(Object(g.a)(e)),e.myLogin="",e.messageList=a.a.createRef(),e.state={loading:!0,inputValue:"",arrMessage:[]},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this;return e=this.state.loading?a.a.createElement(f,null):this.state.arrMessage.map((function(e,n){return a.a.createElement(d,{key:n,message:e,myLogin:t.myLogin})})),a.a.createElement("div",null,a.a.createElement("ul",{ref:this.messageList},e),a.a.createElement("form",{onSubmit:this.sendMessage,action:""},a.a.createElement("input",{type:"text",value:this.state.inputValue,placeholder:"Message...",onChange:this.change}),a.a.createElement("button",null,"\u27a4")))}},{key:"getCookie",value:function(e){return decodeURIComponent(document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"))[1])}},{key:"componentDidMount",value:function(){var e=this;this.myLogin=this.getCookie("login"),y.emit("open user",this.myLogin),y.on("firstMessageRender",(function(t){e.renderMessageList(t)})),y.on("last message",(function(t){return e.lastMessage(JSON.parse(t))}))}},{key:"change",value:function(e){this.setState({inputValue:e.target.value})}},{key:"renderMessageList",value:function(e){this.setState({loading:!1,arrMessage:JSON.parse(e)})}},{key:"lastMessage",value:function(e){this.setState({arrMessage:this.state.arrMessage.concat(e)}),this.messageList.current.scrollTo(0,this.messageList.current.scrollHeight)}},{key:"sendMessage",value:function(e){e.preventDefault(),y.emit("send message",JSON.stringify({userLogin:this.myLogin,messageValue:this.state.inputValue,typeMessage:"message"})),this.setState({inputValue:""})}}]),t}(a.a.Component);r.a.render(a.a.createElement(b,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.d3db8f59.chunk.js.map