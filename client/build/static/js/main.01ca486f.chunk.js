(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,n){e.exports=n(70)},39:function(e,t,n){},67:function(e,t){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(32),r=n.n(i),o=(n(39),n(3)),c=n(4),u=n(6),l=n(5),g=n(8),m=n(7),p=n(33),h=n.n(p),d=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).isConnected="connected"!=n.props.message.typeMessage,n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("li",{className:this.isConnected?this.props.message.userLogin==this.props.myLogin?"myMessage ":"notMyMessage ":"connected"},s.a.createElement("p",null,this.isConnected?s.a.createElement("span",null,this.props.myLogin,":",s.a.createElement("br",null)):null,this.props.message.messageValue))}}]),t}(s.a.Component),f=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("p",null,"Loading")}}]),t}(s.a.Component),y=h()(),b=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).sendMessage=e.sendMessage.bind(Object(g.a)(e)),e.change=e.change.bind(Object(g.a)(e)),e.myLogin="",e.state={loading:!0,inputValue:"",arrMessage:[]},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this;return e=this.state.loading?s.a.createElement(f,null):this.state.arrMessage.map((function(e,n){return s.a.createElement(d,{key:n,message:e,myLogin:t.myLogin})})),s.a.createElement("div",null,s.a.createElement("ul",null,e),s.a.createElement("form",{onSubmit:this.sendMessage,action:""},s.a.createElement("input",{type:"text",value:this.state.inputValue,placeholder:"Message...",onChange:this.change}),s.a.createElement("button",null,"\u27a4")))}},{key:"getCookie",value:function(e){return decodeURIComponent(document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"))[1])}},{key:"componentDidMount",value:function(){var e=this;this.myLogin=this.getCookie("login"),y.emit("open user",this.myLogin),y.on("firstMessageRender",(function(t){e.renderMessageList(t)})),y.on("last message",(function(t){return e.lastMessage(JSON.parse(t))}))}},{key:"change",value:function(e){this.setState({inputValue:e.target.value})}},{key:"renderMessageList",value:function(e){this.setState({loading:!1,arrMessage:JSON.parse(e)})}},{key:"lastMessage",value:function(e){this.setState({arrMessage:this.state.arrMessage.concat(e)})}},{key:"sendMessage",value:function(e){e.preventDefault(),y.emit("send message",JSON.stringify({userLogin:this.myLogin,messageValue:this.state.inputValue,typeMessage:"message"})),this.setState({inputValue:""})}}]),t}(s.a.Component);r.a.render(s.a.createElement(b,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.01ca486f.chunk.js.map